<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KFC Order Page</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"/>
  <style>
    body {
      background-color: #dc3545;
      color: white;
    }
    .menu-button {
      width: 100%;
      padding: 10px;
      font-size: 1rem;
      text-align: left;
      border: none;
      background-color: #c82333;
      color: white;
      border-bottom: 1px solid #ff4d4d;
    }
    .menu-button:hover {
      background-color: #a71d2a;
    }
    .section {
      display: none;
      padding: 20px;
      background-color: #dc3545;
      border-top: 1px solid white;
    }
    .section.active {
      display: block;
    }
    input, select {
      color: black !important;
    }
    .modal-content {
      background-color: white;
      color: black;
    }
    .modal-header {
      background-color: #a71d2a;
      color: white;
    }
  </style>
</head>
<body>

<header class="text-center py-4">
  <img src="/FashionStore/public/images/kfcLogo.png" alt="KFC" width="120">
  <h2>KFC Order</h2>
  <p>so good</p>
  <img src="/FashionStore/public/images/kfcPoster.png" style="width: 1140px; height: 150px;" class="mt-3">
</header>

<div class="container px-0">
  <button class="menu-button" onclick="showSection('customerSection')">Customer Details</button>
  <button class="menu-button" onclick="showSection('mealSection')">Select Meals</button>
  <button class="menu-button" onclick="showSection('addonsSection')">Add-ons</button>
  <button class="menu-button" onclick="showSection('orderSection')">Place Order</button>
</div>

<div class="container px-4">
  <div id="customerSection" class="section active">
    <h4>Customer Details</h4>
    <div class="mb-3">
      <label class="form-label">Customer Name</label>
      <input type="text" class="form-control" id="customerName" placeholder="Enter your name">
    </div>
    <div class="mb-3">
      <label class="form-label">Mobile Number</label>
      <input type="text" class="form-control" id="mobileNumber" placeholder="Enter your number">
    </div>
  </div>


    <div id="mealSection" class="section">
    <h4>Select Your Meal</h4>
    <div class="row row-cols-1 row-cols-md-2 g-4">

        <div class="col">
        <div class="card bg-white text-dark h-100">
            <img src="/FashionStore/public/images/kfcMeal2.png" class="card-img-top" alt="Variety Chicken Meal">
            <div class="card-body">
            <h5 class="card-title">Variety Chicken Meal</h5>
            <p class="card-text">Save 37% on 9 Pc Hot & Crispy, 4 Pc Peri Peri Strips, Fries & Pepsi</p>
            <p class="card-text">
                <strike>₹1075</strike> <strong class="text-danger ms-2">₹609</strong> <span class="text-success"> (37% OFF)</span>
            </p>
            <div class="form-check">
                <input class="form-check-input meal-check" type="checkbox" id="meal1"
                data-name="Variety Chicken Meal"
                data-price="609"
                data-img="/FashionStore/public/images/kfcMeal2.png"
                data-desc="Save 37% on 9 Pc Hot & Crispy, 4 Pc Peri Peri Strips, Fries & Pepsi">
                <label class="form-check-label" for="meal1">Add to cart</label>
            </div>
            </div>
        </div>
        </div>

        <div class="col">
        <div class="card bg-white text-dark h-100">
            <img src="/FashionStore/public/images/kfcMeal3.png" class="card-img-top" alt="Strips Bucket Meal">
            <div class="card-body">
            <h5 class="card-title">Strips Bucket Meal</h5>
            <p class="card-text">Save 40%. 10 pc strip, 4 Hot Wings, Fries, Pepsi and 3 Dips</p>
            <p class="card-text">
                <strike>₹1015</strike> <strong class="text-danger ms-2">₹609</strong> <span class="text-success"> (40% OFF)</span>
            </p>
            <div class="form-check">
                <input class="form-check-input meal-check" type="checkbox" id="meal2"
                data-name="Strips Bucket Meal"
                data-price="609"
                data-img="/FashionStore/public/images/kfcMeal3.png"
                data-desc="Save 40%. 10 pc strip, 4 Hot Wings, Fries, Pepsi and 3 Dips">
                <label class="form-check-label" for="meal2">Add to cart</label>
            </div>
            </div>
        </div>
        </div>

    </div>
    </div>


  <div id="addonsSection" class="section">
    <h4>Add-ons</h4>
    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" id="addon1" data-name="Crispy Fries" data-price="99">
      <label class="form-check-label" for="addon1">Crispy Fries - ₹99</label>
    </div>
    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" id="addon2" data-name="Pepsi" data-price="49">
      <label class="form-check-label" for="addon2">Pepsi - ₹49</label>
    </div>
  </div>

  <div id="orderSection" class="section">
    <h4>Place Order</h4>
    <p>Review your order and click confirm when ready.</p>
    <button id="placeOrderBtn" class="btn btn-light text-danger fw-bold" disabled data-bs-toggle="modal" data-bs-target="#billModal">Confirm Order</button>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="billModal" tabindex="-1" aria-labelledby="billModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title fw-bold" id="billModalLabel">Your Bill Summary</h5>
        <button type="button" class="btn-close text-danger" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="billContent">
        <!-- Filled dynamically -->
      </div>
    </div>
  </div>
</div>

<script>
  function showSection(sectionId) {
    document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
    document.getElementById(sectionId).classList.add('active');
  }

  document.querySelectorAll('.meal-check').forEach(meal => {
    meal.addEventListener('change', () => {
      const selectedMeals = Array.from(document.querySelectorAll('.meal-check:checked'));
      document.getElementById('placeOrderBtn').disabled = selectedMeals.length === 0;
    });
  });

  document.getElementById('placeOrderBtn').addEventListener('click', () => {
    const name = document.getElementById('customerName').value.trim();
    const mobile = document.getElementById('mobileNumber').value.trim();
    const selectedMeals = Array.from(document.querySelectorAll('.meal-check:checked'));
    const selectedAddons = Array.from(document.querySelectorAll('#addonsSection input[type=checkbox]:checked'));

    let mealDetails = '';
    let addonDetails = '';
    let total = 0;

    selectedMeals.forEach(item => {
      const mName = item.dataset.name;
      const mDesc = item.dataset.desc;
      const mImg = item.dataset.img;
      const mPrice = parseInt(item.dataset.price);
      total += mPrice;

      mealDetails += `
        <div class="row mb-3">
          <div class="col-md-8">
            <p class="mb-1"><strong>${mName}</strong> - ₹${mPrice}</p>
          </div>
          <div class="col-md-4">
            <img src="${mImg}" alt="${mName}" class="img-fluid rounded" style="max-height: 80px;">
          </div>
        </div>
      `;
    });

    selectedAddons.forEach(item => {
      const aName = item.dataset.name;
      const aPrice = parseInt(item.dataset.price);
      addonDetails += `<li>${aName} - ₹${aPrice}</li>`;
      total += aPrice;
    });

    const billHTML = `
      <p><strong>Customer Name:</strong> ${name}</p>
      <p><strong>Mobile Number:</strong> ${mobile}</p>
      <hr>
      <h5 class="text-danger">Meals:</h5>
      ${mealDetails || '<p>None</p>'}
      <h5 class="text-danger">Add-ons:</h5>
      <ul>${addonDetails || '<li>None</li>'}</ul>
      <hr>
      <h5 class="text-danger fw-bold">Total Amount: ₹${total}</h5>
    `;

    document.getElementById('billContent').innerHTML = billHTML;
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
